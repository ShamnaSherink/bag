(function(shopify) {
(()=>{var ie="WebPixel::Render";var D=e=>shopify.extend(ie,e);var F={config:0,set:1,page_view:2,view_item:3,add_to_cart:4,purchase:5,begin_checkout:6,search:7,add_payment_info:8,update:9,default:10},ae={send_to:0,page_path:1,page_title:2,page_location:3,ignore_referrer:4,ecomm_prodid:5,ecomm_totalvalue:6,ecomm_pagetype:7,items:8,id:9,name:10,brand:11,category:12,coupon:13,price:14,quantity:15,variant:16,value:17,currency:18,tax:19,shipping:20,search_term:21,total:22,transaction_id:23,ad_storage:24,ad_user_data:25,ad_personalization:26,analytics_storage:27},oe={config:[],set:[],page_view:["send_to"],view_item:["send_to","ecomm_prodid"],add_to_cart:["send_to","ecomm_prodid"],purchase:["send_to","transaction_id"],begin_checkout:["send_to"],search:["send_to"],add_payment_info:["send_to"]};var le="",de=function(e){le=e},ye=Math.floor(Math.random()*2147483648),ue=function(){if(arguments[0]==="js")return;let r=window.dataLayer.filter(o=>Object.prototype.toString.call(o)==="[object Arguments]").filter(o=>ce(o,arguments)),c=ve(r,arguments);if(!c){let o=arguments,a=!1,v=window.gtag;window.gtag=function(){return!a&&ce(arguments,o)&&(se(arguments,o),a=!0),v==null?void 0:v(...arguments)};return}se(c,arguments)};function ve(e,r){if(e.length===0)return;if(r[0]==="set"){let o=e.filter(a=>O(r[1],a[1],[]));return o.length>0?o[0]:e[0]}else e.sort((o,a)=>be(r[2],o[2],a[2]));return e[0]}function be(e,r,c){let o=[],a=[];return O(e,r,o),O(e,c,a),o.length-a.length}var se=function(e,r){let c=r[0],o=r[1],a=r[2],v=F[o];(c==="set"||c==="config")&&(v=F[c]);let f=[`id=${le}`,`pid=${ye}`];if(c==="set"){if(!O(r[1],e[1],[])){f.push(`cdm=${v}`),K(f);return}}else{let p=e[2],E=[];if(O(a,p,E),E.length){let h=E.map(P=>ae[P]).filter(P=>P!==void 0);f.push(`cdm=${v}.${h.join(".")}`),K(f);return}}f.push(`cm=${v}`),K(f)};function O(e,r,c){let o=[];if(e===r)return!0;if(!(e instanceof Object)||!(r instanceof Object))return!1;for(let a in e){if(!e.hasOwnProperty(a)||a==="user_data")continue;if(!r.hasOwnProperty(a)){o.push(a);continue}let v=e[a],f=r[a];if(v!=f){if(Array.isArray(v)&&Array.isArray(f)){if(we(v,f,o))continue}else if(v instanceof Object&&O(v,f,o))continue;o.push(a)}}for(let a in r)r.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&o.push(a);return c.push(...o),o.length===0}function we(e,r,c){let o=[];if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a]instanceof Object&&r[a]instanceof Object)O(e[a],r[a],o);else if(e[a]!==r[a])return!1;return c.push(...o),o.length===0}function K(e){let r=["v=3","t=h"];r.push(...e);let c=`https://www.googletagmanager.com/a?${r.join("&")}`;window.fetch(c,{method:"GET",mode:"no-cors",keepalive:!0})}function ce(e,r){let c=r[0];if(c==="set")return e[0]==="set";if(c==="config")return e[0]===c&&e[1]===r[1];if(c==="consent")return e[1]===r[1];if(c==="event"){let o=r[1];if(e[0]!==r[0]||e[1]!==o)return!1;let a=r[2],v=oe[o];return v?v.map(p=>{let E=e[2][p],h=a[p];return p==="send_to"||p==="ecomm_prodid"?JSON.stringify(E)===JSON.stringify(h):p==="transaction_id"?E==h:E===h}).every(p=>p===!0):!1}return!1}function me(e){let r=e.init.customerPrivacy;if(r===void 0||r.marketingAllowed||r.analyticsProcessingAllowed)fe(e,r);else{let c=!1;e.customerPrivacy.subscribe("visitorConsentCollected",o=>{let a=o.customerPrivacy;!c&&(a.marketingAllowed||a.analyticsProcessingAllowed)&&(fe(e,a),c=!0)})}}function fe(e,r){var Y,B,X,Z,H,Q,V,k,ee,te,ne,re;let c=window.dataLayer=window.dataLayer||[],o=JSON.parse(e.settings.config),a=o.pixel_id;de(a);let v=o.enable_monitoring_mode;if(v&&Math.floor(Math.random()*1e3)>50)return;let f=window.gtag=window.gtag||function(){c.push(arguments)},p=v?ue:f;r&&(p("consent","default",pe(r)),p("set",ge(r))),I(e)&&p("set",{ignore_referrer:"true"}),f("policy","detect_click_events",()=>!1),f("policy","detect_element_visibility_events",()=>!1),f("policy","detect_history_change_events",()=>!1),f("policy","detect_link_click_events",()=>!1),f("policy","detect_timer_events",()=>!1),f("policy","detect_youtube_activity_events",()=>!1),f("policy","detect_scroll_events",()=>!1),f("policy","detect_user_provided_data",()=>!1),f("policy","detect_form_submit_events",()=>!1),f("policy","detect_form_interaction_events",()=>!1),f("js",new Date);let E=document.createElement("script");E.src=`https://www.googletagmanager.com/gtag/js?id=${a}`,document.body.appendChild(E);let h={send_page_view:!1};I(e)&&(h.ignore_referrer="true"),p("config",a,h);let P=o.gtag_events,N=t=>{var i;return"shopify_"+(o.target_country||"US")+"_"+String((i=t==null?void 0:t.product)==null?void 0:i.id)+"_"+String(t==null?void 0:t.id)},J=t=>{let i=t==null?void 0:t.title;return["default","title","default title",""].includes(String(i).toLowerCase())?null:i},L=(t,i)=>i?`${t} - ${i}`:t,_e=t=>{var d;let i=(d=document.querySelector("link[rel='canonical']"))==null?void 0:d.getAttribute("href");return i||(i=t),i},W=t=>{var i,d,m,_,l,b,w;return{email:t==null?void 0:t.email,phone_number:t==null?void 0:t.phone,address:{first_name:(i=t==null?void 0:t.billingAddress)==null?void 0:i.firstName,last_name:(d=t==null?void 0:t.billingAddress)==null?void 0:d.lastName,street:(m=t==null?void 0:t.billingAddress)==null?void 0:m.address1,city:(_=t==null?void 0:t.billingAddress)==null?void 0:_.city,region:(l=t==null?void 0:t.billingAddress)==null?void 0:l.province,postal_code:(b=t==null?void 0:t.billingAddress)==null?void 0:b.zip,country:(w=t==null?void 0:t.billingAddress)==null?void 0:w.country}}},S={email:(X=(B=(Y=e.init)==null?void 0:Y.data)==null?void 0:B.customer)==null?void 0:X.email,phone_number:(Q=(H=(Z=e.init)==null?void 0:Z.data)==null?void 0:H.customer)==null?void 0:Q.phone,address:{first_name:(ee=(k=(V=e.init)==null?void 0:V.data)==null?void 0:k.customer)==null?void 0:ee.firstName,last_name:(re=(ne=(te=e.init)==null?void 0:te.data)==null?void 0:ne.customer)==null?void 0:re.lastName}};e.analytics.subscribe("page_viewed",t=>{var d,m,_,l,b,w,s,C;let i=P.find(n=>n.type==="page_view");if(i&&i.action_label){let n=(_=(m=(d=t.context)==null?void 0:d.window)==null?void 0:m.location)==null?void 0:_.pathname,A={send_to:i.action_label,page_path:n,page_title:Pe((b=(l=t.context)==null?void 0:l.document)==null?void 0:b.title,n),page_location:_e((C=(s=(w=t.context)==null?void 0:w.window)==null?void 0:s.location)==null?void 0:C.href),user_data:S};I(e)&&(A.ignore_referrer="true"),p("event","page_view",A)}}),e.analytics.subscribe("product_viewed",t=>{var d,m,_,l,b,w;let i=P.find(s=>s.type==="view_item");if(i&&i.action_label){let s=(d=t.data)==null?void 0:d.productVariant;p("event","view_item",{send_to:i.action_label,ecomm_prodid:[N(s)],ecomm_totalvalue:(m=s==null?void 0:s.price)==null?void 0:m.amount,ecomm_pagetype:"product",items:[{id:N(s),name:L((_=s==null?void 0:s.product)==null?void 0:_.title,J(s)),brand:(l=s==null?void 0:s.product)==null?void 0:l.vendor,category:(b=s==null?void 0:s.product)==null?void 0:b.type,price:(w=s==null?void 0:s.price)==null?void 0:w.amount,variant:J(s)}],user_data:S})}}),e.analytics.subscribe("product_added_to_cart",t=>{var d,m,_,l,b,w,s,C,n,A,y;let i=P.find(u=>u.type==="add_to_cart");if(i&&i.action_label){let u=(d=t.data)==null?void 0:d.cartLine,g=u==null?void 0:u.merchandise;p("event","add_to_cart",{send_to:i.action_label,ecomm_prodid:[N(u==null?void 0:u.merchandise)],ecomm_totalvalue:(_=(m=u==null?void 0:u.cost)==null?void 0:m.totalAmount)==null?void 0:_.amount,ecomm_pagetype:"cart",value:(b=(l=u==null?void 0:u.cost)==null?void 0:l.totalAmount)==null?void 0:b.amount,currency:((s=(w=u==null?void 0:u.cost)==null?void 0:w.totalAmount)==null?void 0:s.currencyCode)||"USD",items:[{id:N(g),name:L((C=g==null?void 0:g.product)==null?void 0:C.title,g==null?void 0:g.title),brand:(n=g==null?void 0:g.product)==null?void 0:n.vendor,category:(A=g==null?void 0:g.product)==null?void 0:A.type,price:(y=g==null?void 0:g.price)==null?void 0:y.amount,quantity:u==null?void 0:u.quantity,variant:g==null?void 0:g.title}],user_data:S})}}),e.analytics.subscribe("checkout_completed",t=>{var d,m,_,l,b,w,s,C;let i=P.find(n=>n.type==="purchase");if(i&&i.action_label){let n=(d=t.data)==null?void 0:d.checkout,A={send_to:i.action_label,transaction_id:(m=n==null?void 0:n.order)==null?void 0:m.id,value:(_=n==null?void 0:n.subtotalPrice)==null?void 0:_.amount,currency:((l=n==null?void 0:n.subtotalPrice)==null?void 0:l.currencyCode)||"USD",tax:(b=n==null?void 0:n.totalTax)==null?void 0:b.amount,shipping:(s=(w=n==null?void 0:n.shippingLine)==null?void 0:w.price)==null?void 0:s.amount,items:(C=n==null?void 0:n.lineItems)==null?void 0:C.map(y=>{var u,g,x,T,M,R,j,G,q,$,z,U;return{id:N(y.variant),name:(g=(u=y.variant)==null?void 0:u.product)==null?void 0:g.title,brand:(T=(x=y.variant)==null?void 0:x.product)==null?void 0:T.vendor,category:(R=(M=y.variant)==null?void 0:M.product)==null?void 0:R.type,coupon:(q=(G=(j=y.discountAllocations)==null?void 0:j[0])==null?void 0:G.discountApplication)==null?void 0:q.title,price:(z=($=y.variant)==null?void 0:$.price)==null?void 0:z.amount,quantity:y.quantity,variant:(U=y.variant)==null?void 0:U.title}}),user_data:W(n)};I(e)&&(A.ignore_referrer="true"),p("event","purchase",A)}}),e.analytics.subscribe("checkout_started",t=>{var d,m,_,l,b,w,s,C;let i=P.find(n=>n.type==="begin_checkout");if(i&&i.action_label){let n=(d=t.data)==null?void 0:d.checkout,A={send_to:i.action_label,ecomm_prodid:(m=n==null?void 0:n.lineItems)==null?void 0:m.map(y=>N(y.variant)),ecomm_totalvalue:(_=n==null?void 0:n.subtotalPrice)==null?void 0:_.amount,ecomm_pagetype:"cart",value:(l=n==null?void 0:n.subtotalPrice)==null?void 0:l.amount,currency:((b=n==null?void 0:n.subtotalPrice)==null?void 0:b.currencyCode)||"USD",coupon:(s=(w=n==null?void 0:n.discountApplications)==null?void 0:w[0])==null?void 0:s.title,items:(C=n==null?void 0:n.lineItems)==null?void 0:C.map(y=>{var u,g,x,T,M,R,j,G,q,$,z,U;return{id:N(y.variant),name:(g=(u=y.variant)==null?void 0:u.product)==null?void 0:g.title,brand:(T=(x=y.variant)==null?void 0:x.product)==null?void 0:T.vendor,category:(R=(M=y.variant)==null?void 0:M.product)==null?void 0:R.type,coupon:(q=(G=(j=y.discountAllocations)==null?void 0:j[0])==null?void 0:G.discountApplication)==null?void 0:q.title,price:(z=($=y.variant)==null?void 0:$.price)==null?void 0:z.amount,quantity:y.quantity,variant:(U=y.variant)==null?void 0:U.title}}),user_data:W(n)};I(e)&&(A.ignore_referrer="true"),p("event","begin_checkout",A)}}),e.analytics.subscribe("search_submitted",t=>{var d,m;let i=P.find(_=>_.type==="search");i&&i.action_label&&p("event","search",{send_to:i.action_label,search_term:(m=(d=t.data)==null?void 0:d.searchResult)==null?void 0:m.query,user_data:S})}),e.analytics.subscribe("payment_info_submitted",t=>{var d,m,_;let i=P.find(l=>l.type==="add_payment_info");if(i&&i.action_label){let l=(d=t.data)==null?void 0:d.checkout,b={send_to:i.action_label,currency:((m=l==null?void 0:l.totalPrice)==null?void 0:m.currencyCode)||"USD",total:(_=l==null?void 0:l.totalPrice)==null?void 0:_.amount,user_data:W(l)};I(e)&&(b.ignore_referrer="true"),p("event","add_payment_info",b)}}),e.customerPrivacy.subscribe("visitorConsentCollected",t=>{let i=t.customerPrivacy;p("consent","update",pe(i)),p("set",ge(i))})}function ge(e){return{restricted_data_processing:!e.saleOfDataAllowed}}function pe(e){return{ad_storage:e.marketingAllowed?"granted":"denied",ad_user_data:e.marketingAllowed?"granted":"denied",ad_personalization:e.marketingAllowed?"granted":"denied",analytics_storage:e.analyticsProcessingAllowed?"granted":"denied"}}function I(e){var r;return((r=e==null?void 0:e._pixelInfo)==null?void 0:r.surfaceNext)==="checkout"}function Pe(e,r){if(!r)return e;let c=[["/information","Checkout - Contact Information"],["/shipping","Checkout - Shipping"],["/payment","Checkout - Payment"],["/review","Checkout - Review"],["/processing","Checkout - Processing"],["/thank-you","Checkout - Receipt"],["/stock-problems","Checkout - Stock problems"],["/error","Checkout - Error"]];for(let[o,a]of c)if(r.endsWith(o))return a;return/^\/checkouts\/[A-Za-z0-9]+\/[A-Za-z0-9]+$/.test(r)?"Checkout - Contact Information":e}D(me);})();

})(self.webPixelsManager.createShopifyExtend('487325975', 'app'));

